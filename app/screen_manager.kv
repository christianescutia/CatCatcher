ScreenManager:
    HomeScreen:
    LoginScreen:
    RegisterScreen:
    UserMainScreen:
    UserInfoScreen:
    UserDeleteConfirmation:
    NotificationsScreen:
    InfoScreen:

<HomeScreen>:
    name: "home_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"

        MDIcon:
            id: app_icon
            icon: "cat"
            halign: 'center'
            pos_hint: { "center_x": 0.5 }
            font_size: 160

    
        MDLabel:
            id: welcome_label
            text: "Welcome to Cat Catcher"
            font_size: 100
            halign: 'center'
            height: self.texture_size[1]

        MDRoundFlatButton:
            text: 'Login'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: root.manager.current = 'login_screen'

        MDRoundFlatButton:
            text: 'Register'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: root.manager.current = 'register_screen'
        
        MDRoundFlatButton:
            text: 'Info'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: root.manager.current = 'info_screen'

<LoginScreen>:
    name: "login_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"

        MDIcon:
            id: app_icon
            icon: "cat"
            halign: 'center'
            pos_hint: { "center_x": 0.5 }
            font_size: 160
    
        MDLabel:
            id: welcome_label
            text: "Login"
            font_size: 80
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y: 20
        
        MDLabel:
            id: error_label
            text: "   "
            font_size: 40
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
    
        MDTextFieldRound:
            id: user
            hint_text: "username"
            icon_right: "account"
            size_hint_x: None
            width: 400
            font_size: 32
            pos_hint: { "center_x": 0.5 }

        MDTextFieldRound:
            id: password
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 400
            font_size: 32
            pos_hint: { "center_x": 0.5 }
            password: True

        MDRoundFlatButton:
            text: 'Login'
            font_size: 24
            pos_hint: { "center_x": 0.5 }
            on_press:
                if root.login(): print("Login Success"); root.manager.current = 'user_main_screen'
                else: print('Login Fail')
        
        MDRoundFlatButton:
            text: 'Clear'
            font_size: 24
            pos_hint: { "center_x": 0.5 }
            on_press: root.clear()
        
        MDRoundFlatButton:
            text: 'Back'
            font_size: 24
            pos_hint: { "center_x": 0.5 }
            on_press: root.clear()
            on_press: root.manager.current = 'home_screen'

<RegisterScreen>:
    name: "register_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"
    
        MDLabel:
            id: welcome_label
            text: "Register"
            font_size: 80
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]

        MDLabel:
            id: error_label
            text: " "
            font_size: 40
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
    
        MDTextFieldRound:
            id: user
            hint_text: "username"
            icon_right: "account"
            size_hint_x: None
            width: 400
            font_size: 40
            pos_hint: { "center_x": 0.5 }

        MDTextFieldRound:
            id: email
            hint_text: "email"
            icon_right: "mail"
            size_hint_x: None
            width: 400
            font_size: 40
            pos_hint: { "center_x": 0.5 }

        MDTextFieldRound:
            id: phone_num
            hint_text: "phone number"
            icon_right: "phone"
            size_hint_x: None
            width: 400
            font_size: 40
            pos_hint: { "center_x": 0.5 }

        MDTextFieldRound:
            id: password
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 400
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            password: False
        
        MDTextFieldRound:
            id: password_confirm
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x: None
            width: 400
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            password: False

        MDRoundFlatButton:
            text: 'Register'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: print('register button pressed...')
            on_press: root.register_user()
        
        MDRoundFlatButton:
            text: 'Clear'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: root.clear()
        
        MDRoundFlatButton:
            text: 'Back'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: root.manager.current = 'home_screen'
            on_press: root.reset()

<UserMainScreen>:
    name: "user_main_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"

        MDLabel:
            id: title_label
            text: "Cages"
            font_size: 80
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
        
        MDList:
            id: cage_container
        
        MDBottomNavigation:
            id: botton_ui_container

            MDBottomNavigationItem:
                id: logout_button
                icon: 'arrow-left'
                text: 'Logout'
                on_tab_press: root.logout()
                on_tab_press: root.manager.current = 'home_screen'
            
            MDBottomNavigationItem:
                id: refresh_button
                icon: 'refresh'
                text: 'Refresh'
                on_tab_press: root.refresh()
            
            MDBottomNavigationItem:
                id: notification_settings_button
                icon: 'bell'
                text: 'Pings'
                on_tab_press: root.manager.current = 'notifications_screen'
            
            MDBottomNavigationItem:
                id: user_settings_button
                icon: 'account-cog'
                text: 'User Settings'
                on_tab_press: root.manager.current = 'user_info_screen'


<UserInfoScreen>:
    name: "user_info_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"

        MDLabel:
            id: title_label
            text: "User Settings"
            font_size: 80
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
        
        MDRoundFlatButton:
            text: 'Delete Account'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: root.delete_user()
            on_press: root.manager.current = 'user_delete_confirmation_screen'
        
        MDBottomNavigation:
            id: button_ui_container

            MDBottomNavigationItem:
                id: back_button
                icon: 'arrow-left'
                text: 'Main'
                on_tab_press: root.manager.current = 'user_main_screen'
            
            MDBottomNavigationItem:
                id: refresh_button
                icon: 'content-save'
                text: 'Save Settings'
                #on_tab_press: root.refresh()

<UserDeleteConfirmation>:
    name: "user_delete_confirmation_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"

        MDIcon:
            id: app_icon
            icon: "cat"
            halign: 'center'
            pos_hint: { "center_x": 0.5 }
            font_size: 160
        
        MDLabel:
            id: message_label
            text: "User Account Successfully Deleted"
            font_size: 80
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]

        
        MDRoundFlatButton:
            text: 'Home'
            font_size: 24
            pos_hint: { "center_x": 0.5 }
            on_press: root.manager.current = 'home_screen'

<NotificationsScreen>:
    name: "notifications_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"

        MDLabel:
            id: title_label
            text: "Notification Toggle"
            font_size: 50
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]

        MDLabel:
            id: msg_label
            font_size: 20
            text: " "
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
        
        MDLabel:
            id: box_label
            text: "Enter Box ID You Wish to Toggle"
            font_size: 30
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
    
        MDTextFieldRound:
            id: box_id_1
            hint_text: "Box ID"
            size_hint_x: None
            width: 400
            font_size: 40
            pos_hint: { "center_x": 0.5 }
        
        MDRoundFlatButton:
            text: 'Toggle'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: print('Toggle button pressed...')
            on_press: root.NotifyToggle()

        MDLabel:
            id: box_label
            text: "Enter Box ID You Wish For Instant FeedBack"
            font_size: 30
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
    
        MDTextFieldRound:
            id: box_id_2
            hint_text: "Box ID"
            size_hint_x: None
            width: 400
            font_size: 40
            pos_hint: { "center_x": 0.5 }
        
        MDRoundFlatButton:
            text: 'Send Request'
            font_size: 40
            pos_hint: { "center_x": 0.5 }
            on_press: print('Request button pressed...')
            on_press: root.InstaReport()

        MDBottomNavigation:
            id: botton_ui_container

            MDBottomNavigationItem:
                id: logout_button
                icon: 'arrow-left'
                text: 'Back'
                on_tab_press: root.manager.current = 'user_main_screen'

<InfoScreen>:
    name: "info_screen"
    MDBoxLayout:
        orientation: 'vertical'
        pos_hint: {'center_x': .5}
        spacing: "20dp"
        padding: "34dp"

        MDIcon:
            id: app_icon
            icon: "cat"
            font_size: 160
            halign: 'center'
            pos_hint: { "center_x": 0.5 }
        
        MDLabel:
            id: mission_info
            text: "Mission Info"
            font_size: 50
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]

        MDLabel:
            id: admin_info_desc
            text: "The Cat Catcher is a simple device that can be used to humanely capture pets in disaster zones."
            font_size: 40
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
        
        MDLabel:
            id: admin_info
            text: "Admin Contact Info"
            font_size: 50
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]

        MDLabel:
            id: admin_info_desc
            text: "AdminTest@email.com"
            font_size: 40
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
        
        MDRoundFlatButton:
            text: 'Home'
            font_size: 24
            pos_hint: { "center_x": 0.5 }
            on_press: root.manager.current = 'home_screen'